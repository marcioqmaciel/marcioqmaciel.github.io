<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Marcio Maciel : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Marcio Maciel</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/marcioqmaciel">Veja no GitHub</a>

          <h1 id="project_title">Marcio Maciel</h1>
          <h2 id="project_tagline">Devs, Devs, Devs!</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Jekyll no Bash no Ubuntu no Windows!</h3>

<p> Há várias formas de se usar Linux e Windows, cada uma com vantagens e desvantagens, como vários PCs na rede, dual boot, VM, docker e agora o <a href="https://msdn.microsoft.com/en-us/commandline/wsl/faq" target="_blank">Bash On Windows</a>. O Bash On Windows é uma forma conveniente para desenvolvedores Windows usarem a shell do Linux diretamente no Windows, mas não se esqueça de que ainda está em versão beta com limitações e problemas.</p>
        <p>O nosso objetivo com esse tutorial é executar o <a href="https://jekyllrb.com" target="_blank">Jekyll</a>, um web server de arquivos estáticos, feito em Ruby, ideal para criar blogs leves sem a necessidade de usar bases de dados. O GitHub oferece a hospedagem gratuita de web sites estáticos e o Jekyll é o serviço por trás dessa hospedagem. Neste tutorial estou supondo que você é usuário do Windows que queira aproveitar algumas funcionalidades exclusivas do Linux ou que sejam de instalação complicada diretamente no Windows.</p>

<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instalando o Linux no Windows</h3>

<p>Se você já instalou o bash no Windows, pode pular para a próxima etapa. Caso ainda não tenha instalado, deve primeiro preparar seu Windows para receber o bash. Para que possa comparar, estou executando o <strong>Windows 10 Insiders Preview build 14971</strong>.</p>
        <p>Primeiro, vá em <em>Configurações > Atualização e Segurança > Para desenvolvedores</em> e marque a opção <strong>Modo de desenvolvedor</strong>. Agora, digite <em>ativar</em> na Cortana e selecione <em>Ativar ou desativar recursos do Windows</em>. Na janela que se abre selecione <em>Subsistema do Windows para Linux (Beta)</em>. O Windows fará a instalação e reiniciará o PC.</p>
        <p>Após reiniciar, abra uma janela do PowerShell como administrador (<em>clique com o botão direito no logo do Windows, na build 14971 a opção de prompt de Command foi substituída por PowerShell</em>). No PowerShell execute o comando <code>lxrun /install</code>. Neste momento o Windows irá baixar (tenha paciência, o processo é demorado) uma imagem da distro <strong>Ubuntu 16.04.1 LTS</strong> e a instalará dentro do WSL - Windows Subsystem for Linux. Sim, sem a necessidade de uma pesada VM, você estará instalando e <strong>executando uma distro do Linux dentro do Windows 10</strong>!</p>
        <p>Durante a instalação o PowerShell perguntará pelo nome de usuário e senha que serão usados internamente pela distro. Ao término da instalação, feche o PowerShell e abra o <em>Bash no Ubuntu no Windows</em> no modo administrador, clicando no atalho criado no menu Iniciar.</p>

<h3>
<a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preparando o Linux</h3>

<p>Com o Linux instalado no Windows, vamos atualizá-lo e prepará-lo para o Jekyll. Não se preocupe se você não está familiarizado com os comandos a seguir. Se precisar pesquisar mais informações pela internet, lembre-se de que a distro instalada é a Ubuntu, então os comandos do bash seguem o padrão dessa distro.</p>
        <p>A primeira coisa a fazer é atualizar o Linux, digitando <code>sudo apt update</code>. O bash irá lhe pedir a senha de usuário criada na instalação, pesquisará nos servidores da Canonical e atualizará a base do Ubuntu. Aguarde, o processo pode demorar vários minutos. Após essa primeira atualização, o bash pode lhe retornar que há mais atualizações secundárias disponíveis (no meu caso eram 85 pacotes!). Execute <code>sudo apt full-upgrade</code> para atualizar todos os pacotes, e novamente aguarde o processo de download e instalação. Após a atualização, se você quiser pode executar <code>apt list --upgradable</code> para ver se ainda resta algum pacote desatualizado.</p>
        <p>O Linux está instalado e atualizado. Mas, por se tratar de uma imagem de distro mínima, você precisa instalar vários outros pacotes que não são instalados por padrão. Execute <code>sudo apt install make gcc</code> para instalar <em>Make</em> e <em>GCC</em>, componentes responsáveis por compilar programas. O Jekyll foi feito em Ruby, então precisamos instalá-lo também, executando <code>sudo apt install ruby</code>.</p>
        <p>Atenção: após a instalação do Ruby, precisamos instalar arquivos complementares do Ruby, mas de acordo com a versão instalada. Primeiro, verifique a versão do Ruby executando <code>ruby -v</code>. Se o Ruby não estiver instalado corretamente e acusar falta de arquivos, execute <code>sudo apt-get -f install</code> para corrigir as dependências. Depois que você obter o número da versão instalada (2.3 aqui no meu PC), instale os arquivos complementares, usando o número da versão obtida no comando a seguir, exemplo: <code>sudo apt-get install ruby2.3-dev</code>.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preparando o Jekyll</h3>

<p>Ufa, estamos quase lá. Já temos o Linux instalado e atualizado, as bibliotecas de programação Make, GCC e Ruby também estão instaladas. Agora, falta instalarmos o Jekyll em si. Até agora temos usado o comando <code>apt</code> para baixar e instalar os pacotes necessários, mas apartir de agora usaremos o comando <code>gem</code> do Ruby. Execute <code>sudo gem install jekyll bundler</code>, aguarde o Ruby baixar o Jekyll e o Bundler e compilar.</p>
        <p>Observe o seu prompt, deve se parecer com algo como <em>username@nomedopc:~$</em>. Se você me acompanhou até aqui, então você está na raiz do "hd" do Linux. Vamos mudar para outra pasta, <strong>MAS NÓS ESTAMOS DENTRO DO WINDOWS</strong>, então mudaremos para uma pasta visível tanto pelo Linux quanto pelo Windows Explorer! Execute <code>cd /mnt/c</code>. Seu prompt deve ter mudado para algo como <em>username@nomedopc:/mnt/c$</em>. Agora, execute <code>ls</code> e veja o Linux listar os arquivos na raiz do seu HD C:. Todas as unidades em NTFS do seu Windows 10 o Linux reconhecerá e a colocará dentro da pasta "/mnt", então você pode acessar esses HDs e partições nos dois sistemas. Ao invés de mudar para a raiz do C:, poderíamos ter executado <code>cd /mnt/c/Users/username/Documents</code> por exemplo, para irmos para a pasta de documentos do usuário no Windows. Não esqueça que o Linux diferencia maiúsculas de minúsculas nos nomes de arquivos e pastas, ok?</p>
        <p>Iremos criar uma pasta na raiz do C: para criarmos vários testes de bash no Windows, como o blog de testes do Jekyll, mas você pode criar onde achar melhor, como no desktop do seu usuário Windows por exemplo. Execute <code>mkdir testesBashOnWindows &amp;&amp; cd testesBashOnWindows</code> para criar e entrar na pasta <em>C:\testesBashOnWindows</em>. É importante que você esteja dentro da pasta ANTES de executar o Jekyll. Observe que seu prompt agora indica <em>username@nomedopc:/mnt/c/testesBashOnWindows$</em>.</p>
        <p>Execute <code>jekyll new meuBlogJekyll</code> e aguarde o Jekyll criar a subpasta meuBlogJekyll, criar arquivos dentro das pastas e inicializar o processo do servidor. Enquanto o Jekyll trabalha você pode acompanhar as alterações nas pastas diretamente pelo Windows Explorer.</p>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check out our <a href="https://help.github.com/pages">documentation</a> or <a href="https://github.com/contact">contact support</a> and we’ll help you sort it out.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
